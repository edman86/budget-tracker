(this["webpackJsonpexpense-tracker"]=this["webpackJsonpexpense-tracker"]||[]).push([[0],{238:function(e,t,n){},424:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(57),o=n.n(r),i=(n(238),n(16)),s=n(15),l=function(e,t){var n;switch(t.type){case"ADD_TRANSACTION":return n=[].concat(Object(s.a)(e),[t.payload]),localStorage.setItem("transactions",JSON.stringify(n)),n;case"DELETE_TRANSACTION":return n=e.filter((function(e){return e.id!==t.payload})),localStorage.setItem("transactions",JSON.stringify(n)),n;default:return e}},u=n(1),j=JSON.parse(localStorage.getItem("transactions"))||[],d=Object(a.createContext)(j),b=function(e){var t=e.children,n=Object(a.useReducer)(l,j),c=Object(i.a)(n,2),r=c[0],o=c[1],s=r.reduce((function(e,t){return"Expense"===t.type?e-t.amount:e+t.amount}),0);return Object(u.jsx)(d.Provider,{value:{transactions:r,addTransaction:function(e){o({type:"ADD_TRANSACTION",payload:e})},deleteTransaction:function(e){o({type:"DELETE_TRANSACTION",payload:e})},balance:s},children:t})},O=n(490),x=n(492),m=n(493),h=n(483),p=n(115),f=function(){return Object(u.jsx)(O.a,{sx:{py:"0.5em"},position:"static",children:Object(u.jsx)(x.a,{maxWidth:"lg",children:Object(u.jsx)(m.a,{children:Object(u.jsxs)(h.a,{container:!0,direction:"column",alignItems:"flex-start",children:[Object(u.jsx)(h.a,{item:!0,children:Object(u.jsx)(p.a,{variant:"h4",children:"Budget Tracker"})}),Object(u.jsx)(h.a,{item:!0,children:Object(u.jsx)(p.a,{variant:"subtitle2",children:"Powered by Speechly"})})]})})})})},g=n(494),y=n(495),v=n(496),C=n(217),D=["#123123","#154731","#165f40","#16784f","#14915f","#10ac6e","#0bc77e","#04e38d","#00ff9d","#5dfcbf"],S=["#b50d12","#bf2f1f","#c9452c","#d3583a","#dc6a48","#e57c58","#ee8d68","#f79d79","#ffae8a","#cc474b","#f55b5f","#f7777a","#f58284"],T=[{type:"Business",amount:0,color:D[0]},{type:"Investments",amount:0,color:D[1]},{type:"Extra income",amount:0,color:D[2]},{type:"Deposits",amount:0,color:D[3]},{type:"Lottery",amount:0,color:D[4]},{type:"Gifts",amount:0,color:D[5]},{type:"Salary",amount:0,color:D[6]},{type:"Savings",amount:0,color:D[7]},{type:"Rental income",amount:0,color:D[8]},{type:"Part-time job",amount:0,color:D[9]}],w=[{type:"Food",amount:0,color:S[0]},{type:"Public transport",amount:0,color:S[1]},{type:"Clothes",amount:0,color:S[2]},{type:"Travel",amount:0,color:S[3]},{type:"Bills",amount:0,color:S[4]},{type:"Shopping",amount:0,color:S[5]},{type:"House",amount:0,color:S[6]},{type:"Entertainment",amount:0,color:S[7]},{type:"Phone",amount:0,color:S[8]},{type:"Pets",amount:0,color:S[9]},{type:"Internet",amount:0,color:S[10]},{type:"Car",amount:0,color:S[11]},{type:"Other",amount:0,color:S[12]}],E=function(e){T.forEach((function(e){return e.amount=0})),w.forEach((function(e){return e.amount=0}));var t=Object(a.useContext)(d).transactions.filter((function(t){return t.type===e})),n=t.reduce((function(e,t){return e+t.amount}),0),c="Income"===e?T:w;t.forEach((function(e){var t=c.find((function(t){return t.type===e.category}));t&&(t.amount+=e.amount)}));var r=c.filter((function(e){return e.amount>0}));return{total:n,chartData:{datasets:[{data:r.map((function(e){return e.amount})),backgroundColor:r.map((function(e){return e.color}))}],labels:r.map((function(e){return e.type}))}}},I=function(){return{income:{borderBottom:"10px solid rgba(0, 255, 0, 0.5)"},expense:{borderBottom:"10px solid rgba(255, 0, 0, 0.5)"}}},k=function(e){var t=e.title,n=I(),a=E(t),c=a.total,r=a.chartData;return Object(u.jsxs)(g.a,{sx:n[t.toLowerCase()],children:[Object(u.jsx)(y.a,{title:t}),Object(u.jsxs)(v.a,{children:[Object(u.jsx)(p.a,{variant:"h5",component:"h5",children:"$".concat(c)}),Object(u.jsx)(C.a,{data:r.datasets[0].data.length?r:{datasets:[{data:[100],backgroundColor:"#edeef0"}],labels:["No transactions"]}})]})]})},F=n(472),B=n(501),A=n(467),M=n(486),N=n(503),P=n(487),W=n(470),H=n(502),L=n(499),R=n(63),_=n(64),Y=n(468),J=n(469),$=n(471),z=n(18),U=n(218),G=n(5),V=n(497),q=n(498),K=n(500),Q=n(212),X=n.n(Q),Z=function(e){var t=new Date(e),n="".concat(t.getMonth()+1),a="".concat(t.getDate()),c=t.getFullYear();return n.length<2&&(n="0".concat(n)),a.length<2&&(a="0".concat(a)),[c,n,a].join("-")},ee=["children","onClose"],te=Object(G.a)(V.a)((function(e){var t=e.theme;return{"& .MuDialogContent-root":{padding:t.spacing(2)},"& .MuDialogActions-root":{padding:t.spacing(1)}}})),ne=function(e){var t=e.children,n=e.onClose,a=Object(U.a)(e,ee);return Object(u.jsxs)(q.a,Object(z.a)(Object(z.a)({sx:{m:0,p:2}},a),{},{children:[t,n?Object(u.jsx)(L.a,{"aria-label":"close",onClick:n,sx:{position:"absolute",right:8,top:8,color:function(e){return e.palette.grey[500]}},children:Object(u.jsx)(X.a,{})}):null]}))};function ae(e){var t=e.open,n=e.setOpen,a=e.transactionData,c=a.amount,r=a.category,o=a.type,i=a.date,s=a.details,l=function(){n(!1)};return Object(u.jsx)("div",{children:Object(u.jsxs)(te,{onClose:l,"aria-labelledby":"customized-dialog-title",open:t,children:[Object(u.jsx)(ne,{id:"customized-dialog-title",onClose:l,sx:{borderBottom:"10px solid ".concat("Income"===o?_.a[300]:R.a[300])},children:"".concat(o," Transaction")}),Object(u.jsxs)(K.a,{dividers:!0,sx:{minWidth:"400px"},children:[Object(u.jsx)(p.a,{gutterBottom:!0,children:"Type: ".concat(o)}),Object(u.jsx)(p.a,{gutterBottom:!0,children:"Category: ".concat(r)}),Object(u.jsx)(p.a,{gutterBottom:!0,children:"Date: ".concat(Z(i))}),Object(u.jsx)(p.a,{gutterBottom:!0,children:"Amount: $".concat(c)}),Object(u.jsx)(p.a,{gutterBottom:!0,children:"Details: ".concat(s)})]})]})})}var ce=n(485),re=function(e){var t=e.filters,n=e.setFilters,a=function(e){var a=t.map((function(t){return t.type===e?Object(z.a)(Object(z.a)({},t),{},{active:!t.active}):t}));n(a)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)(h.a,{container:!0,spacing:1,justifyContent:"center",sx:{mt:1,pb:1},children:t.map((function(e){return e.active?Object(u.jsx)(h.a,{item:!0,children:Object(u.jsx)(ce.a,{label:e.type,onDelete:function(){return a(e.type)}})},e.id):Object(u.jsx)(h.a,{item:!0,children:Object(u.jsx)(ce.a,{label:e.type,variant:"outlined",onClick:function(){return a(e.type)}})},e.id)}))})})},oe=[{id:1,type:"Today",active:!1},{id:2,type:"Current week",active:!1},{id:3,type:"Current month",active:!1},{id:4,type:"Only Income",active:!1},{id:5,type:"Only Expense",active:!1}],ie=function(){var e=Object(a.useContext)(d),t=e.transactions,n=e.deleteTransaction,c=Object(a.useState)(!1),r=Object(i.a)(c,2),o=r[0],l=r[1],j=Object(a.useState)({id:1,amount:"",category:"",type:"",date:new Date}),b=Object(i.a)(j,2),O=b[0],x=b[1],m=Object(a.useState)(oe),h=Object(i.a)(m,2),p=h[0],f=h[1],g=function(e,t){var n=t.map((function(e){return e.active?e.type:null})),a=Object(s.a)(e);if(n.includes("Today")){var c=new Date,r=c.getDate(),o=c.getMonth(),i=c.getFullYear(),l=new Date(i,o,r),u=a.filter((function(e){var t=new Date(e.date),n=t.getDate(),a=t.getMonth(),c=t.getFullYear();return new Date(c,a,n).getTime()===l.getTime()}));a=Object(s.a)(u)}else if(n.includes("Current week")){var j=new Date,d=j.getDate(),b=j.getDay();0===b&&(b=7);var O=d-(b-1),x=O+7,m=a.filter((function(e){return new Date(e.date).getTime()>=new Date(j.getFullYear(),j.getMonth(),O).getTime()&&new Date(e.date).getTime()<=new Date(j.getFullYear(),j.getMonth(),x).getTime()}));a=Object(s.a)(m)}else if(n.includes("Current month")){var h=new Date,p=h.getMonth(),f=h.getFullYear(),g=a.filter((function(e){return new Date(e.date).getMonth()===p&&new Date(e.date).getFullYear()===f}));a=Object(s.a)(g)}if(n.includes("Only Income")){var y=a.filter((function(e){return"Income"===e.type}));a=Object(s.a)(y)}else if(n.includes("Only Expense")){var v=a.filter((function(e){return"Expense"===e.type}));a=Object(s.a)(v)}return a}(t,p),y=g.sort((function(e,t){return new Date(e.date).getTime()-new Date(t.date).getTime()})).reverse();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{children:Object(u.jsx)(re,{filters:p,setFilters:f})}),Object(u.jsx)(B.a,{dense:!1,sx:{maxHeight:"300px",overflow:"auto"},children:y.map((function(e){return Object(u.jsx)(A.a,{direction:"down",in:!0,mountOnEnter:!0,unmountOnExit:!0,children:Object(u.jsxs)(M.a,{button:!0,onClick:function(){return t=e,l(!0),x(t),void console.log(t);var t},children:[Object(u.jsx)(N.a,{children:Object(u.jsx)(P.a,{sx:{backgroundColor:"Income"===e.type?_.a[500]:R.a[500]},children:"Income"===e.type?Object(u.jsx)(Y.a,{}):Object(u.jsx)(J.a,{})})}),Object(u.jsx)(W.a,{primary:e.category,secondary:"$".concat(e.amount," - ").concat(Z(e.date))}),Object(u.jsx)(H.a,{children:Object(u.jsx)(L.a,{edge:"end","aria-label":"delete",onClick:function(){return n(e.id)},children:Object(u.jsx)($.a,{})})})]},e.id)},e.id)}))}),Object(u.jsx)(ae,{open:o,setOpen:l,transactionData:O})]})},se=function(){return{media:{height:0,pt:"56.25%"},expand:{transform:"rotate(0deg)",ml:"auto",transition:"transform",transitionDuration:"1s"},expandOpen:{transform:"rotate(180deg)"},cartContent:{pt:0},divider:{mx:"0",my:"20px"}}},le=function(){var e=se();return Object(u.jsxs)(g.a,{children:[Object(u.jsx)(v.a,{children:Object(u.jsx)(p.a,{variant:"h5",align:"center",component:"h5",children:"Transactions"})}),Object(u.jsx)(F.a,{}),Object(u.jsx)(v.a,{sx:e.cartContent,children:Object(u.jsx)(h.a,{container:!0,spacing:2,children:Object(u.jsx)(h.a,{item:!0,xs:12,children:Object(u.jsx)(ie,{})})})})]})},ue=function(){var e=Object(a.useContext)(d).balance;return Object(u.jsx)(g.a,{variant:"outlined",children:Object(u.jsx)(v.a,{children:Object(u.jsxs)(p.a,{align:"center",variant:"h5",component:"div",children:[Object(u.jsx)(p.a,{variant:"h5",component:"h5",children:"Total Balance"}),Object(u.jsx)(p.a,{variant:"h5",component:"h5",sx:{fontWeight:"bold"},children:"$".concat(e)})]})})})},je=n(504),de=n(480),be=n(475),Oe=n(489),xe=n(481),me=n(507),he=n(84),pe=n(199),fe=n(39);function ge(e){var t=new Date,n=new Date(e);return n.setHours(t.getHours()),n.setMinutes(t.getMinutes()),n.setSeconds(t.getSeconds()),n}var ye={amount:"",category:"",type:"",date:"",details:""},ve=function(e){var t=e.setErrorSnackbarOpen,n=e.setSuccessSnackbarOpen,c=Object(a.useState)(ye),r=Object(i.a)(c,2),o=r[0],s=r[1],l=Object(a.useContext)(d).addTransaction,j=Object(fe.useSpeechContext)().segment,b=function(){if(o.type&&o.category&&o.amount){var e=Object(z.a)(Object(z.a)({},o),{},{amount:Number(o.amount),id:Object(pe.a)()});l(e),n(!0),s(ye)}else t(!0)},O="Income"===o.type?T:w;return Object(a.useEffect)((function(){if(j){if("add_expense"===j.intent.intent)s(Object(z.a)(Object(z.a)({},o),{},{type:"Expense"}));else if("add_income"===j.intent.intent)s(Object(z.a)(Object(z.a)({},o),{},{type:"Income"}));else if(j.isFinal&&"create_transaction"===j.intent.intent)b();else if(j.isFinal&&"cancel_transaction"===j.intent.intent)return s(ye);j.entities.forEach((function(e){var t="".concat(e.value.charAt(0).toUpperCase()).concat(e.value.slice(1).toLocaleLowerCase());switch(e.type){case"amount":s(Object(z.a)(Object(z.a)({},o),{},{amount:e.value}));break;case"category":T.map((function(e){return e.type})).includes(t)?s(Object(z.a)(Object(z.a)({},o),{},{type:"Income",category:t})):w.map((function(e){return e.type})).includes(t)&&s(Object(z.a)(Object(z.a)({},o),{},{type:"Expense",category:t}));break;case"date":s(Object(z.a)(Object(z.a)({},o),{},{date:e.value}))}})),j.isFinal&&o.amount&&o.category&&o.type&&o.date&&b()}}),[j]),Object(u.jsxs)(h.a,{container:!0,spacing:2,children:[Object(u.jsxs)(h.a,{item:!0,xs:12,children:[Object(u.jsx)(p.a,{variant:"subtitle1",align:"center",sx:{lineHeight:"1.5",mt:"1em",fontWeight:"bold"},children:"To add transaction with vois:"}),Object(u.jsx)(p.a,{variant:"subtitle1",align:"center",sx:{lineHeight:"1.5"},children:"Push the michrofon button and try saying for example:"}),Object(u.jsx)(p.a,{variant:"subtitle1",align:"center",sx:{lineHeight:"1.5",mb:"1em",fontStyle:"italic"},children:'"Add income for $100 in Category Salary for Monday"'})]}),Object(u.jsxs)(h.a,{item:!0,xs:12,children:[Object(u.jsx)(F.a,{sx:{mb:"1em"}}),Object(u.jsx)(p.a,{align:"center",variant:"subtitle2",gutterBottom:!0,children:j&&Object(u.jsx)(u.Fragment,{children:j.words.map((function(e){return e.value})).join(" ")})})]}),Object(u.jsx)(h.a,{item:!0,xs:6,md:6,children:Object(u.jsxs)(je.a,{variant:"standard",fullWidth:!0,children:[Object(u.jsx)(de.a,{children:"Type"}),Object(u.jsxs)(be.a,{value:o.type,onChange:function(e){return s(Object(z.a)(Object(z.a)({},o),{},{type:e.target.value}))},children:[Object(u.jsx)(Oe.a,{value:"Income",children:"Income"}),Object(u.jsx)(Oe.a,{value:"Expense",children:"Expense"})]})]})}),Object(u.jsx)(h.a,{item:!0,xs:6,md:6,children:Object(u.jsxs)(je.a,{variant:"standard",fullWidth:!0,children:[Object(u.jsx)(de.a,{children:"Category"}),Object(u.jsx)(be.a,{value:o.category,onChange:function(e){return s(Object(z.a)(Object(z.a)({},o),{},{category:e.target.value}))},children:O.map((function(e){return Object(u.jsx)(Oe.a,{value:e.type,children:e.type},e.type)}))})]})}),Object(u.jsx)(h.a,{item:!0,xs:6,md:6,children:Object(u.jsx)(xe.a,{type:"number",label:"Amount",variant:"standard",fullWidth:!0,value:o.amount,onChange:function(e){return s(Object(z.a)(Object(z.a)({},o),{},{amount:e.target.value}))}})}),Object(u.jsx)(h.a,{item:!0,xs:6,md:6,children:Object(u.jsx)(xe.a,{type:"date",label:"Date",variant:"standard",fullWidth:!0,value:Z(o.date),onChange:function(e){return s(Object(z.a)(Object(z.a)({},o),{},{date:ge(e.target.value)}))}})}),Object(u.jsx)(h.a,{item:!0,xs:12,md:12,children:Object(u.jsx)(xe.a,{type:"text",label:"Details",variant:"standard",fullWidth:!0,value:o.details,onChange:function(e){return s(Object(z.a)(Object(z.a)({},o),{},{details:e.target.value}))}})}),Object(u.jsx)(h.a,{item:!0,xs:12,sx:{m:"1.5em 0 2em"},children:Object(u.jsx)(me.a,{variant:"outlined",color:"primary",fullWidth:!0,onClick:b,children:"Create"})}),Object(u.jsxs)(he.PushToTalkButtonContainer,{children:[Object(u.jsx)(he.PushToTalkButton,{}),Object(u.jsx)(he.ErrorPanel,{})]})]})},Ce=n(508),De=n(479),Se=n(477),Te=n(216),we=n.n(Te),Ee=Object(G.a)(Ce.a)({position:"fixed",zIndex:10,left:"auto",right:100,bottom:100});var Ie=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),o=Object(i.a)(r,2),s=o[0],l=o[1],j=Object(a.useState)(!1),b=Object(i.a)(j,2),O=b[0],m=b[1],p=Object(fe.useSpeechContext)().speechState,g=Object(a.useContext)(d).transactions,y=Object(a.useRef)(null);return Object(a.useEffect)((function(){p===fe.SpeechState.Recording&&y.current.scrollIntoView()}),[p]),Object(a.useEffect)((function(){c(!1)}),[g]),Object(u.jsxs)("div",{children:[Object(u.jsx)(f,{}),Object(u.jsxs)(x.a,{maxWidth:"lg",children:[Object(u.jsxs)(h.a,{container:!0,spacing:2,justifyContent:"center",sx:{mt:"2em"},children:[Object(u.jsx)(h.a,{item:!0,xs:12,sm:6,md:4,sx:{order:{xs:1,md:0}},children:Object(u.jsx)(k,{title:"Income"})}),Object(u.jsx)(h.a,{ref:y,item:!0,xs:12,sm:12,md:4,sx:{order:{xs:0,md:1}},children:Object(u.jsxs)(h.a,{container:!0,spacing:2,direction:"column",children:[Object(u.jsx)(h.a,{item:!0,children:Object(u.jsx)(ue,{})}),Object(u.jsx)(h.a,{item:!0,children:Object(u.jsx)(le,{})})]})}),Object(u.jsx)(h.a,{item:!0,xs:12,sm:6,md:4,sx:{order:{xs:2,md:2}},children:Object(u.jsx)(k,{title:"Expense"})})]}),Object(u.jsx)(Ee,{color:"primary","aria-label":"add",sx:{right:{xs:50,md:100},bottom:{xs:50,md:100}},onClick:function(){c(!0)},children:Object(u.jsx)(we.a,{})})]}),Object(u.jsx)(De.a,{open:s,autoHideDuration:3e3,onClose:function(){return l(!1)},children:Object(u.jsx)(Se.a,{severity:"error",variant:"filled",children:"All fields must be filled!"})}),Object(u.jsx)(De.a,{open:O,autoHideDuration:3e3,onClose:function(){return m(!1)},children:Object(u.jsx)(Se.a,{severity:"success",variant:"filled",children:"Transaction successfully created."})}),Object(u.jsx)(V.a,{maxWidth:"xs",open:n,onClose:function(){c(!1)},children:Object(u.jsx)(K.a,{children:Object(u.jsx)(ve,{setErrorSnackbarOpen:l,setSuccessSnackbarOpen:m})})})]})},ke=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,509)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),r(e),o(e)}))};o.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(fe.SpeechProvider,{appId:"03a5d0b2-70a0-4e3f-b2cb-a0d2119ecd98",language:"en-US",children:Object(u.jsx)(b,{children:Object(u.jsx)(Ie,{})})})}),document.getElementById("root")),ke()}},[[424,1,2]]]);
//# sourceMappingURL=main.65838dc0.chunk.js.map